style.
  .clickable {
    cursor: pointer;
  }
  .dropdown-menu{
    cursor:pointer;
  }
div(class="row")
  div(id="ingredientesWrapper" class="col-md-8")
    table(class="table table-striped table-condensed table-bordered table-hover")
      thead
        tr
          th(class="text-center" colspan="6") 
            b
              h4(ng-if="!receta.$editNombre" ng-click="receta.$editNombre = true") {{receta.nombre}}
            div(ng-if="receta.$editNombre")
              input(focus type="text" ng-model="receta.nombre" class="form-control text-center input-lg" ng-blur="receta.$editNombre = false; updateReceta($parent.receta._id, {field: 'nombre', value: receta.nombre})")
        th(class="text-center col-md-6") Ingredientes
        th(class="text-center col-md-1") Cantidad
        th(class="text-center col-sm-1") %
        th(class="text-center col-md-1") Unidad
        th(class="text-center col-md-1") Precio
        th(class="text-center col-md-1") Total
      tbody
        tr(ng-repeat="ingredienteReceta in receta.ingredientes track by $index" )
          td(class="clickable" ng-click="removeIngrediente(ingredienteReceta, $index)") {{ingredienteReceta.ingrediente.nombre}}
          
          td(class="clickable" ng-click="ingredienteReceta.$editCantidad = true")
            span(ng-if="!ingredienteReceta.$editCantidad") {{ingredienteReceta.cantidad}}
            div(ng-if="ingredienteReceta.$editCantidad")
              input(focus ng-blur="ingredienteReceta.$editCantidad = false; updateIngrediente(ingredienteReceta, $index)" ng-model="ingredienteReceta.cantidad" step="0.01" min="0" class="form-control input-sm" type="number" ng-change="calcularTotal()")
          td 
            b {{(ingredienteReceta.cantidad*100/receta.cantidad).toFixed(1)}}
         
          td Unidad
          
          td {{ingredienteReceta.ingrediente.precio}} €
            
          td 
            b {{(ingredienteReceta.cantidad*ingredienteReceta.ingrediente.precio).toFixed(2)}} €
    
  div(id="searchContainer" class="col-md-2")
      input(type="text" placeholder="Búsqueda por nombre" ng-model="ingredienteSeleccionado" ng-change="getIngredientes(ingredienteSeleccionado)" ng-model-options="{debounce: 200}" typeahead="ingrediente.nombre for ingrediente in ingredientes | filter:{nombre:$viewValue} | limitTo:max" typeahead-on-select="addIngrediente($item)" typeahead-wait-ms="200" class="form-control input-md")

div(class="row2")
  div(id="resumenWrapper" class="col-sm-2 col-md-offset-8")
    table(class="table table-striped table-condensed table-bordered")
      thead
        td(class="text-center" colspan="2")
          b TOTAL
        tr
          th(class="text-center")
            b Precio
          th(class="text-center")
            b Cantidad
      tbody
        tr
          td(class="text-center")
            b {{receta.precio.toFixed(2)}} €
          td(class="text-center")
            b {{receta.cantidad.toFixed(2)}} KG
{{compTotal}}
